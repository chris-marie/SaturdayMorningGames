<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Basic Typing Application</title>
    <style>
        #quoteContainer {
            border: 1px solid black;
            padding: 2em;
            display: inline-block;
            float: left;
            width: 40%;
        }
        #typeContainer {
            border: 1px solid black;
            display: inline-block;
            width: 45%;
            padding: .2em;
        }
        #inpTypedText {
            background-color: white;
            padding: 2em;
            width: 90%;
            display: block;
            margin: auto;
        }

    </style>
</head>

<body>
<header>Sharpen your typing skills while supplementing your intellect.</header>

<div class="left" id="quoteContainer">
    <div id="quoteText">This will be a quote from something...</div>
</div>

<button id="btnPlay">PLAY</button>

<div class="input" id="typeContainer">
    <input type="text" id="inpTypedText" placeholder="Get your fingers ready..."/>
</div>

<script src='readings/sample.js' id="typeThisText"></script>

<script>

    var quoteBox, typedBox;
    var quote, input;
    var inputArray = [];  // intialize as empty array
    var quoteArray = [];

    quoteContainer = document.getElementById('quoteContainer');
    quoteBox = document.getElementById('quoteText');
    typedBox = document.getElementById('typeContainer');

    window.addEventListener('DOMContentLoaded', function() {
        quote = reading.quote;
        quoteBox.textContent = quote;
        quoteArray = quote.slice(" ");
        console.log(quoteArray);

        input = document.getElementById('inpTypedText');
        input.addEventListener('input', function () {
            var acceptInput;
            var lastChar = input.value.slice(-1)
            inputArray.push(lastChar);
            console.log(inputArray);
            console.log('last char: ' + lastChar);
            idx = inputArray.length;
            console.log(idx + ' = idx');
            acceptInput = compareInput(idx,quoteArray,inputArray);
            if(acceptInput) {
                // input matches quote - leave array the same
                console.log('text matches!')
            } else {
                // No match with quote -  pop off last character
                inputArray.pop();
                console.log('wrong character - deleted from array');
            }
        });

        function compareInput(index,arr1,arr2) {
            var idx = index -1;
            var c1 = arr1[idx];
            var c2 = arr2[idx];
            if(c1 !== c2) {
                console.log('changing background color to red' + 'c1: ' + c1 + ' ,c2: ' + c2);
                typedBox.style.backgroundColor = 'red';
                // input.style.backgroundColor = 'F9877D' WANT: color the inside of box el.style.addRule('.F9877D::first-line' ) ???
                // need to take off the incorrect input or else it stays on the array
                return false;
            } else {
                console.log('changing background color to white');
                typedBox.style.backgroundColor = 'green';
                input.style.backgroundColor = 'white';
                // leave the same if correct
                return true;
            }
        }
    });


    // listener input change
    // string.split() ' ' pass string get back array

    /*


    inputtag.addEventListener('keyup', function (event) {
      console.log(this.value);
    });


     inputtag.addEventListener('keydown', function (event) {
     if(event.keyCode ===32) {
      console.log(this.value);
      var current = this.value.time()
      console.log(current);
      this.value = '';
     }

     });

     */



</script>
</body>
</html>

































